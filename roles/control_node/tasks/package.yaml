- name: System Software
  become: yes
  dnf:
    name:
      - dnf-automatic
      - dnf-plugin-system-upgrade
      - rpmconf
      - symlinks
    state: latest
- name: Administration software
  become: yes
  dnf:
    name:
      - git
      - tmux
      - mc
      - nmap
      - toolbox
      - fish
    state: latest

- name: Encryption software
  become: yes
  dnf:
    name:
      - age
    state: latest
- name: Get latest sops release
  uri:                                                               
    url: https://api.github.com/repos/mozilla/sops/releases/latest
    return_content: true                                             
  register: sops_latest
- name: Install sops
  become: yes
  dnf:
    name: '{{ sops_latest.json.assets[0].browser_download_url }}'
    state: present
    disable_gpg_check: yes

- name: Dev software
  become: True
  dnf:
    name: 
      - git
      - golang
      - ShellCheck
    state: latest
- name: Misc software
  become: True
  dnf:
    name: 
      - wget
      - curl
      - compsize
    state: latest
- name: Upgrade ansible
  pip:
    name: 
      - ansible
    state: latest
    