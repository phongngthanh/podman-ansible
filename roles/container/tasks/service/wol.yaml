- name: Wol-web configurations
  ansible.builtin.copy:
    content: "{{ wol_config_devices | to_nice_json }}"
    dest: "{{ wol_volume }}/devices.json"
    mode: "0600"

- name: Wol-web
  containers.podman.podman_container:
    env:
      TZ: "{{ global_timezone }}"
      WOLWEBBCASTIP: "{{ wol_bcast_ip }}:9"
    image: docker.io/aranajuan/wolweb:latest@sha256:9958179770035737922a77b1bfe306f48c48e4e7e4a35bdb228e2f6921805a31
    name: wol
    network: host
    state: "{{ wol_state }}"
    volumes:
      - "{{ wol_volume }}/devices.json:/wolweb/devices.json:U,ro,z"
