- name: Wol-web configurations
  ansible.builtin.copy:
    content: "{{ wol_config_devices | to_nice_json }}"
    dest: "{{ wol_volume }}/devices.json"
    mode: "0600"

- name: Wol-web
  containers.podman.podman_container:
    env:
      TZ: "{{ global_timezone }}"
      WOLWEBBCASTIP: "{{ wol_bcast_ip }}:9"
    generate_systemd:
      container_prefix: ""
      new: true
      path: /home/{{ ansible_user }}/.config/systemd/user
      pod_prefix: ""
      separator: ""
    image: "{{ wol_image }}"
    name: wol
    network: host
    state: "{{ wol_state }}"
    volumes:
      - "{{ wol_volume }}/devices.json:/wolweb/devices.json:U,ro,z"
